# dfget

dfget is the client of Dragonfly. You can use the dfget command in the command line tool.

## Name

dfget - the client of Dragonfly, a non-interactive P2P downloader.

## Synopsis

`dfget -u [URL] [options]...`

## Options

```
      --alivetime duration    Alive duration for which uploader keeps no accessing by any uploading requests, after this period uploader will automically exit (default 5m0s)
      --callsystem string     The name of dfget caller which is for debugging. Once set, it will be passed to all components around the request to make debugging easy
      --clientqueue int       specify the size of client queue which controls the number of pieces that can be processed simultaneously (default 6)
      --console               show log on console, it's conflict with '--showbar'
      --dfdaemon              identify whether the request is from dfdaemon
      --expiretime duration   caching duration for which cached file keeps no accessed by any process, after this period cache file will be deleted (default 3m0s)
  -f, --filter string         filter some query params of URL, use char '&' to separate different params
                              eg: -f 'key&sign' will filter 'key' and 'sign' query param
                              in this way, different but actually the same URLs can reuse the same downloading task
      --header strings        http header, eg: --header='Accept: *' --header='Host: abc'
  -h, --help                  help for dfget
  -i, --identifier string     The usage of identifier is making different downloading tasks generate different downloading task IDs even if they have the same URLs. conflict with --md5.
  -s, --locallimit string     network bandwidth rate limit for single download task, in format of 20M/m/K/k
  -m, --md5 string            md5 value input from user for the requested downloading file to enhance security
  -n, --node strings          specify the addresses(IP:port) of supnernodes
      --notbs                 disable back source downloading for requested file when p2p fails to download it
  -o, --output string         Destination path which is used to store the requested downloading file. It must contain detailed directory and specific filename, for example, '/tmp/file.mp4'
  -p, --pattern string        download pattern, must be p2p/cdn/source, cdn and source do not support flag --totallimit (default "p2p")
  -b, --showbar               show progress bar, it is conflict with '--console'
  -e, --timeout int           Timeout set for file downloading task. If dfget has not finished downloading all pieces of file before --timeout, the dfget will throw an error and exit
      --totallimit string     network bandwidth rate limit for the whole host, in format of 20M/m/K/k
  -u, --url string            URL of user requested downloading file(only HTTP/HTTPs supported)
      --verbose               be verbose
```

## Files

### /etc/dragonfly.conf

This is the default configuration file for dfget, which specifies the address of the SuperNode.

```ini
[node]
address=127.0.0.1,127.0.0.2
```

### ${HOME}/.small-dragonfly

This directory is created by dfget when you start it for the first time.

```text
.small-dragonfly/
├── data/               # stores temporary data downloaded by dfget
├── dfdaemon/
│   └── data/           # default, stores temporary data generated by dfdaemon
├── logs/
│   ├── dfclient.log    # dfget's log file
│   ├── dfserver.log    # log file of peer server launched by dfget
│   └── dfdaemon.log    # dfdaemon's log file
└── meta/
    └── host.meta       # stores meta information: peer server port
```
